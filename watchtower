version: '3.8'

services:
  watchtower:
    image: containrrr/watchtower
    container_name: watchtower
    environment:
      TZ: Asia/Shanghai
      WATCHTOWER_NOTIFICATIONS: shoutrrr
      WATCHTOWER_NOTIFICATION_URL: "telegram://token@telegram/?chats=id"
      WATCHTOWER_NOTIFICATION_TEMPLATE: |-
        ğŸ³ *Watchtower å®¹å™¨ç›‘æ§æœåŠ¡*
        
        ğŸš€ æœåŠ¡çŠ¶æ€ï¼šå·²å¯åŠ¨
        ğŸ“¦ ç‰ˆæœ¬ï¼š1.7.1
        ğŸ”” é€šçŸ¥æ–¹å¼ï¼šTelegram
        ğŸ” æ£€æŸ¥èŒƒå›´ï¼šæ‰€æœ‰å®¹å™¨ï¼ˆé™¤æ˜ç¡®ç¦ç”¨æ ‡ç­¾çš„ï¼‰
        
        â° å®šæ—¶ä»»åŠ¡è®¾ç½®ï¼š
          é¦–æ¬¡è¿è¡Œï¼š2025-10-18 01:00:00 (åŒ—äº¬æ—¶é—´)
          ä¸‹æ¬¡æ£€æŸ¥ï¼š11å°æ—¶35åˆ†é’Ÿå
        
        ğŸ“‹ åŠŸèƒ½ç‰¹æ€§ï¼š
          âœ… è‡ªåŠ¨æ£€æŸ¥å®¹å™¨æ›´æ–°
          âœ… è‡ªåŠ¨æ¸…ç†æ—§é•œåƒ
          âœ… åŒ…å«é‡å¯ä¸­çš„å®¹å™¨
          âœ… Telegram é€šçŸ¥
        
        ğŸ§­ Watchtower æ­£åœ¨ç›‘æ§æ‚¨çš„å®¹å™¨...
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command:
      - --schedule
      - "0 0 1 * * *"
      - --cleanup
      - --include-restarting
    restart: unless-stopped
